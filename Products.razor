@page "/Products"
@using demoWeb.Models
@using demoWeb.Services
@using demoWeb.Services.Product
@inject IProductService ProductService
<h3>Products</h3>


<table class="table-bordered">
    <thead>
    <tr>
        <td>Id</td>
        <td>Name</td>
        <td>Price</td>
        <td>Quantity</td>
        <td>Category</td>
    </tr>
    </thead>
    <tbody>
        @foreach (var product in products)
        {
            <tr>
                <td>@product.Id</td>
                <td>@product.Name</td>
                <td>@product.Price</td>
                <td>@product.Quantity</td>
                <td>@product.Category?.Name</td>
            </tr>
        }
    </tbody>
</table>
@code {
    List<Product> products = new List<Product>();

    protected override async Task OnInitializedAsync()
    {
        products = await ProductService.GetAllProductsAsync();
    }

}